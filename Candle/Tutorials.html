<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Candle: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Candle
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">2D lighting for SFML</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('Tutorials.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Basics of Candle</a><ul><li class="level2"><a href="#autotoc_md1">Lights and shadows</a></li>
<li class="level2"><a href="#autotoc_md2">Light Sources</a></li>
<li class="level2"><a href="#autotoc_md3">Fog and ambiental light with LightingArea</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md0"></a>
Basics of Candle</h1>
<p>If you want to use Candle, it is assumed that you are at least familiar with SFML v2.5.1.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Lights and shadows</h2>
<p>The two main objects related to shadow casting in Candle are light sources and edges.</p>
<p>For the lights, there is an abstract class called <a class="el" href="classcandle_1_1LightSource.html" title="Interface for objects that emit light.">candle::LightSource</a>, implemented by <a class="el" href="classcandle_1_1RadialLight.html" title="LightSource that emits light from a single point.">candle::RadialLight</a> and <a class="el" href="classcandle_1_1DirectedLight.html" title="LightSource that emits light in a single direction.">candle::DirectedLight</a>. They inherit for sf::Drawable and sf::Transformable, so they can be used as the more common SFML entities.</p>
<p>For the edges, there is a structure called <b>candle::Edge</b>, that can represent a segment by the coordinates of its ends. However, the raycasting function requires that the shadow casting edges are stored in a std::vector, so Candle provides a convenient alias for std::vector&lt;candle::Edge&gt; called <b>candle::EdgeVector</b>. This is what you should be using to manage your edges.</p>
<p>They interact through the function <a class="el" href="classcandle_1_1LightSource.html#a9a6e2a899ebc86948952d68f5fff0f7c" title="Modifies the polygon of the illuminated area with a raycasting algorithm.">candle::LightSource::castLight</a>, that takes two iterators from a candle::EdgeVector and use the edges contained between them to compute the area illuminated by the light source.</p>
<p>Let's see with a sample of code.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;SFML/Graphics.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="RadialLight_8hpp.html">Candle/RadialLight.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(){</div>
<div class="line">    <span class="comment">// create window</span></div>
<div class="line">    sf::RenderWindow w(sf::VideoMode(400, 400), <span class="stringliteral">&quot;app&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// create a light source</span></div>
<div class="line">    <a class="code" href="classcandle_1_1RadialLight.html">candle::RadialLight</a> light;</div>
<div class="line">    light.<a class="code" href="classcandle_1_1LightSource.html#a70fa0b021d3e30a5aa1eb1cd24ba483e">setRange</a>(150);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// create an edge pool</span></div>
<div class="line">    <a class="code" href="LightSource_8hpp.html#a384b0e96a22f34b27f84a55713279e89">candle::EdgeVector</a> edges;</div>
<div class="line">    edges.emplace_back(sf::Vector2f(200.f, 100.f), </div>
<div class="line">                       sf::Vector2f(200.f, 300.f));</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// main loop</span></div>
<div class="line">    <span class="keywordflow">while</span>(w.isOpen()){</div>
<div class="line">        sf::Event e;</div>
<div class="line">        <span class="keywordflow">while</span>(w.pollEvent(e)){</div>
<div class="line">            <span class="keywordflow">if</span>(e.type == sf::Event::Closed){</div>
<div class="line">                w.close();</div>
<div class="line">            }<span class="keywordflow">else</span> <span class="keywordflow">if</span>(e.type == sf::Event::MouseMoved){</div>
<div class="line">                sf::Vector2f mp(sf::Mouse::getPosition(w));</div>
<div class="line">                light.setPosition(mp);</div>
<div class="line">                light.<a class="code" href="classcandle_1_1RadialLight.html#ab4753c89d8598308a771c62923ae5cc7">castLight</a>(edges.begin(), edges.end());</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        w.clear();</div>
<div class="line">        w.draw(light);</div>
<div class="line">        w.display();</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aLightSource_8hpp_html_a384b0e96a22f34b27f84a55713279e89"><div class="ttname"><a href="LightSource_8hpp.html#a384b0e96a22f34b27f84a55713279e89">candle::EdgeVector</a></div><div class="ttdeci">std::vector&lt; Edge &gt; EdgeVector</div><div class="ttdoc">Typedef to shorten the use of vectors as edge pools.</div><div class="ttdef"><b>Definition:</b> LightSource.hpp:28</div></div>
<div class="ttc" id="aRadialLight_8hpp_html"><div class="ttname"><a href="RadialLight_8hpp.html">RadialLight.hpp</a></div><div class="ttdoc">This file contains the RadialLight class.</div></div>
<div class="ttc" id="aclasscandle_1_1LightSource_html_a70fa0b021d3e30a5aa1eb1cd24ba483e"><div class="ttname"><a href="classcandle_1_1LightSource.html#a70fa0b021d3e30a5aa1eb1cd24ba483e">candle::LightSource::setRange</a></div><div class="ttdeci">void setRange(float range)</div><div class="ttdoc">Set the range of the illuminated area.</div></div>
<div class="ttc" id="aclasscandle_1_1RadialLight_html"><div class="ttname"><a href="classcandle_1_1RadialLight.html">candle::RadialLight</a></div><div class="ttdoc">LightSource that emits light from a single point.</div><div class="ttdef"><b>Definition:</b> RadialLight.hpp:30</div></div>
<div class="ttc" id="aclasscandle_1_1RadialLight_html_ab4753c89d8598308a771c62923ae5cc7"><div class="ttname"><a href="classcandle_1_1RadialLight.html#ab4753c89d8598308a771c62923ae5cc7">candle::RadialLight::castLight</a></div><div class="ttdeci">void castLight(const EdgeVector::iterator &amp;begin, const EdgeVector::iterator &amp;end) override</div><div class="ttdoc">Modifies the polygon of the illuminated area with a raycasting algorithm.</div></div>
</div><!-- fragment --><p>If</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Light Sources</h2>
<p>The main class in Candle is LightSource. It's an abstract class implemented by RadialLight and DirectedLight.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Fog and ambiental light with LightingArea</h2>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
